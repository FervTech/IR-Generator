<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard | IR Generator</title>
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="dashboard-body">

<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <div class="logo">
      <div class="logo-icon"><i class="fas fa-file-invoice"></i></div>
      <span class="logo-text">IR Generator</span>
    </div>
    <button class="sidebar-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
  </div>

  <nav class="sidebar-nav">
    <a href="dashboard.html" class="nav-item active"><i class="fas fa-home"></i><span>Dashboard</span></a>
    <a href="../partials/create-invoice.html" class="nav-item"><i class="fas fa-plus-circle"></i><span>New Invoice</span></a>
    <a href="../partials/invoices.html" class="nav-item"><i class="fas fa-file-invoice"></i><span>Invoices</span><span class="badge" id="invoiceCount">0</span></a>
    <a href="../partials/create-receipt.html" class="nav-item"><i class="fas fa-plus-circle"></i><span>New Receipt</span></a>
    <a href="../partials/receipts.html" class="nav-item"><i class="fas fa-receipt"></i><span>Receipts</span><span class="badge" id="receiptCount">0</span></a>
    <a href="../partials/clients.html" class="nav-item"><i class="fas fa-users"></i><span>Clients</span></a>
    <a href="../partials/analytics.html" class="nav-item"><i class="fas fa-chart-line"></i><span>Analytics</span><span class="pro-badge">PRO</span></a>
    <a href="../partials/templates.html" class="nav-item"><i class="fas fa-palette"></i><span>Templates</span><span class="pro-badge">PRO</span></a>
    <div class="nav-divider"></div>
  </nav>

  <div class="sidebar-footer">
    <div class="plan-card" id="planCard">
      <div class="plan-icon"><i class="fas fa-gift"></i></div>
      <div class="plan-info"><strong id="planName">Free Plan</strong><p id="planUsage">0 / 3 invoices</p></div>
      <a href="pricing.html" class="btn-upgrade"><i class="fas fa-crown"></i>Upgrade</a>
    </div>
  </div>
</aside>

<div class="dashboard-main">
  <header class="topbar">
    <button class="mobile-menu-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
    <div class="topbar-search"><i class="fas fa-search"></i><input type="text" placeholder="Search..." id="searchInput"></div>
    <div class="topbar-actions">
      <button class="theme-toggle" onclick="toggleDarkMode()" id="themeBtn"><i class="fas fa-moon"></i></button>
      <button class="notification-btn" onclick="toggleNotifications()"><i class="fas fa-bell"></i><span class="notification-dot"></span></button>
      <div class="user-menu">
        <button class="user-menu-btn" onclick="toggleUserMenu()">
          <div class="user-avatar" id="userAvatar"><i class="fas fa-user"></i></div>
          <span class="user-name" id="userName">Demo User</span>
          <i class="fas fa-chevron-down"></i>
        </button>
        <div class="user-dropdown" id="userDropdown">
          <a href="../partials/profile.html" class="dropdown-item"><i class="fas fa-user"></i>My Profile</a>
          <a href="../partials/settings.html" class="dropdown-item"><i class="fas fa-cog"></i>Settings</a>
          <div class="dropdown-divider"></div>
          <button onclick="handleLogout()" class="dropdown-item"><i class="fas fa-sign-out-alt"></i>Sign Out</button>
        </div>
      </div>
    </div>
  </header>

  <div class="dashboard-content">
    <div class="welcome-section">
      <div class="welcome-text">
        <h1>Welcome back, <span id="welcomeName">Demo</span>! ðŸ‘‹</h1>
        <p>Here's what's happening with your business today</p>
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon blue"><i class="fas fa-file-invoice"></i></div>
        <div class="stat-content">
          <p class="stat-label">Total Invoices</p>
          <h3 class="stat-value" id="totalInvoices">0</h3>
          <p class="stat-change positive"><i class="fas fa-arrow-up"></i><span id="invoicesThisMonth">0</span> this month</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon green"><i class="fas fa-receipt"></i></div>
        <div class="stat-content">
          <p class="stat-label">Total Receipts</p>
          <h3 class="stat-value" id="totalReceipts">0</h3>
          <p class="stat-change positive"><i class="fas fa-arrow-up"></i><span id="receiptsThisMonth">0</span> this month</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon orange"><i class="fas fa-users"></i></div>
        <div class="stat-content">
          <p class="stat-label">Total Clients</p>
          <h3 class="stat-value" id="totalClients">0</h3>
          <p class="stat-change positive"><i class="fas fa-arrow-up"></i><span id="newClients">0</span> new clients</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon purple"><i class="fas fa-dollar-sign"></i></div>
        <div class="stat-content">
          <p class="stat-label">Total Revenue</p>
          <h3 class="stat-value" id="totalRevenue">â‚µ0.00</h3>
          <p class="stat-change positive"><i class="fas fa-arrow-up"></i><span id="revenueThisMonth">â‚µ0</span> this month</p>
        </div>
      </div>
    </div>

    <div class="quick-actions">
      <h2 class="section-title">Quick Actions</h2>
      <div class="action-grid">
        <button class="action-card" onclick="window.location.href='../partials/invoices.html'"><i class="fas fa-file-invoice"></i><h3>Create Invoice</h3><p>Generate new invoice</p></button>
        <button class="action-card" onclick="window.location.href='../partials/receipts.html'"><i class="fas fa-receipt"></i><h3>Create Receipt</h3><p>Generate new receipt</p></button>
        <button class="action-card" onclick="window.location.href='../partials/clients.html'"><i class="fas fa-user-plus"></i><h3>Add Client</h3><p>Save client details</p></button>
        <button class="action-card" onclick="window.location.href='../partials/templates.html'"><i class="fas fa-palette"></i><h3>Templates</h3><p>Browse designs</p></button>
      </div>
    </div>

    <div class="recent-section">
      <div class="section-header">
        <h2 class="section-title">Recent Invoices</h2>
        <a href="../partials/invoices.html" class="view-all">View All<i class="fas fa-arrow-right"></i></a>
      </div>
      <div class="invoices-table-wrapper">
        <table class="invoices-table" id="invoicesTable">
          <thead>
          <tr><th>Invoice #</th><th>Client</th><th>Date</th><th>Amount</th><th>Status</th><th>Actions</th></tr>
          </thead>
          <tbody id="invoicesTableBody">
          <tr class="empty-state"><td colspan="6"><div class="empty-state-content"><i class="fas fa-inbox"></i><h3>No invoices yet</h3></div></td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="plan-notice" id="planNotice" style="display: none;">
      <div class="notice-icon"><i class="fas fa-info-circle"></i></div>
      <div class="notice-content">
        <h3>You're on the Free Plan</h3>
        <p>You can create up to 3 invoices. Upgrade to save unlimited invoices and unlock premium features.</p>
      </div>
      <a href="pricing.html" class="btn-upgrade-notice"><i class="fas fa-crown"></i>Upgrade Now</a>
    </div>
  </div>
</div>

<div id="toastContainer" class="toast-container"></div>
<script src="../js/dashboard.js"></script>
<script src="../js/utilities/utilities.js"></script>
<script src="../js/utilities/toast-messages.js"></script>
<script src="../js/global-settings.js"></script>
<script src="../js/auth.js"></script>
<script src="../js/data-manager.js"></script>
<script src="../js/export-manager.js"></script>
</body>
</html>
